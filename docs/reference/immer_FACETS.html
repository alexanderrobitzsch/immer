<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This Function is a wrapper do the DOS version of FACETS (Linacre, 1999)."><title>Wrapper to FACDOS — immer_FACETS • immer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wrapper to FACDOS — immer_FACETS"><meta property="og:description" content="This Function is a wrapper do the DOS version of FACETS (Linacre, 1999)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">immer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5</small

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/alexanderrobitzsch/immer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Wrapper to FACDOS</h1>
      
      <div class="d-none name"><code>immer_FACETS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This Function is a wrapper do the DOS version of FACETS (Linacre, 1999).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">immer_FACETS</span><span class="op">(</span>title<span class="op">=</span><span class="cn">NULL</span>, convergence<span class="op">=</span><span class="cn">NULL</span>, totalscore<span class="op">=</span><span class="cn">NULL</span>, facets<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  noncenter<span class="op">=</span><span class="cn">NULL</span>,  arrange<span class="op">=</span><span class="cn">NULL</span>,entered_in_data<span class="op">=</span><span class="cn">NULL</span>, models<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  inter_rater<span class="op">=</span><span class="cn">NULL</span>, pt_biserial<span class="op">=</span><span class="cn">NULL</span>, faire_score<span class="op">=</span><span class="cn">NULL</span>, unexpected<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  usort<span class="op">=</span><span class="cn">NULL</span>, positive<span class="op">=</span><span class="cn">NULL</span>, labels<span class="op">=</span><span class="cn">NULL</span>, fileinput<span class="op">=</span><span class="cn">NULL</span>, data<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  path.dosbox<span class="op">=</span><span class="cn">NULL</span>, path.facets<span class="op">=</span><span class="st">""</span>, model.name<span class="op">=</span><span class="cn">NULL</span>, facetsEXE<span class="op">=</span><span class="cn">NULL</span> <span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>title</dt>
<dd><p>title of the analysis</p></dd>

  <dt>convergence</dt>
<dd><p>convergence criteria</p></dd>

  <dt>totalscore</dt>
<dd><p>show the total score with each observation</p></dd>

  <dt>facets</dt>
<dd><p>number of specified facets</p></dd>

  <dt>noncenter</dt>
<dd><p>specified the non centered facet here</p></dd>

  <dt>arrange</dt>
<dd><p>control the ordering in each table/output</p></dd>

  <dt>entered_in_data</dt>
<dd><p>optional specification for facets</p></dd>

  <dt>models</dt>
<dd><p>model to be used in the analysis</p></dd>

  <dt>inter_rater</dt>
<dd><p>Specify rater facet number for the agreement report among raters</p></dd>

  <dt>pt_biserial</dt>
<dd><p>correlation between the raw-score for each element</p></dd>

  <dt>faire_score</dt>
<dd><p>intended for communicating the measures as adjusted ratings</p></dd>

  <dt>unexpected</dt>
<dd><p>size of smallest standardized residual</p></dd>

  <dt>usort</dt>
<dd><p>order in which the unexpected observation are listed</p></dd>

  <dt>positive</dt>
<dd><p>specifies which facet is positively oriented</p></dd>

  <dt>labels</dt>
<dd><p>name of each facet, followed by a list of elements</p></dd>

  <dt>fileinput</dt>
<dd><p>optional argument, if your data are stored within a separate file</p></dd>

  <dt>data</dt>
<dd><p>Input of the data in long-format</p></dd>

  <dt>path.dosbox</dt>
<dd><p>Path to the installed DOSBox. If <code>NULL</code>: the function assumed that you have
purchased FACETS and would like to use this version (currently only for Windows-User)</p></dd>

  <dt>path.facets</dt>
<dd><p>Path to FACDOS or FACETS if the path.dosbox is "NULL"</p></dd>

  <dt>model.name</dt>
<dd><p>Name of the configuration file for FACETS</p></dd>

  <dt>facetsEXE</dt>
<dd><p>optional argument to specifie specific FACETS.exe</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Within the function <code>immer_FACETS</code> it is either possible to pass existing
FACETS input files or to specify the Input within the function.
To run the estimation in FACETS it is necessary to provide both the path to the
DosBox and FACDOS (it is recommended to use the function <code>immer_install</code> for the
installation process). After the estimation process is finished the Exports are
in the Facets folder.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Linacre, J. M. (1999). <em>FACETS</em> (Version 3.17)[Computer software]. Chicago: MESA.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Install FACDOS and DOSBox <code><a href="immer_install.html">immer_install</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co">################################</span></span>
<span><span class="co"># 1. Example on Windows</span></span>
<span><span class="co">################################</span></span>
<span><span class="co"># define data generating parameters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1997</span><span class="op">)</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span>  <span class="co"># number of persons</span></span>
<span><span class="va">I</span> <span class="op">&lt;-</span> <span class="fl">4</span>    <span class="co"># number of items</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fl">3</span>    <span class="co"># number of raters</span></span>
<span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fl">3</span>    <span class="co"># maximum score</span></span>
<span><span class="va">sigma</span> <span class="op">&lt;-</span> <span class="fl">2</span>  <span class="co"># standard deviation</span></span>
<span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span> <span class="va">N</span>, sd<span class="op">=</span><span class="va">sigma</span> <span class="op">)</span>  <span class="co"># abilities</span></span>
<span><span class="co"># item intercepts</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span> <span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span>, len<span class="op">=</span><span class="va">I</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span> <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, len<span class="op">=</span><span class="va">K</span><span class="op">)</span>, <span class="st">"+"</span> <span class="op">)</span></span>
<span><span class="co"># item loadings</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">I</span><span class="op">)</span></span>
<span><span class="co"># rater severity parameters</span></span>
<span><span class="va">phi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.3</span>, <span class="op">-</span><span class="fl">.2</span>, <span class="fl">.5</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">I</span>, ncol<span class="op">=</span><span class="va">R</span>, byrow<span class="op">=</span><span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="va">phi</span> <span class="op">&lt;-</span> <span class="va">phi</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span> <span class="va">phi</span>, sd<span class="op">=</span><span class="fl">.3</span> <span class="op">)</span></span>
<span><span class="va">phi</span> <span class="op">&lt;-</span> <span class="va">phi</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span></span>
<span><span class="co"># rater variability parameters</span></span>
<span><span class="va">psi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.4</span>, <span class="fl">.8</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">I</span>, ncol<span class="op">=</span><span class="va">R</span>, byrow<span class="op">=</span><span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="co"># simulate HRM data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">immer</span><span class="fu">::</span><span class="fu"><a href="immer_hrm_simulate.html">immer_hrm_simulate</a></span><span class="op">(</span> <span class="va">theta</span>, <span class="va">a</span>, <span class="va">b</span>, phi<span class="op">=</span><span class="va">phi</span>, psi<span class="op">=</span><span class="va">psi</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># prepare data for FACETS</span></span>
<span><span class="va">data2FACETS</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pid"</span>,<span class="st">"rater"</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"I"</span>,<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pid"</span>,<span class="st">"rater"</span><span class="op">)</span>,</span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>,gr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"1-"</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span><span class="op">)</span>,<span class="va">data</span><span class="op">[</span>,<span class="va">items</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">facets_in</span> <span class="op">&lt;-</span> <span class="fu">data2FACETS</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example of FACETS</span></span>
<span><span class="va">mod1.a</span> <span class="op">&lt;-</span> <span class="fu">immer</span><span class="fu">::</span><span class="fu">immer_FACETS</span><span class="op">(</span></span>
<span>  title<span class="op">=</span><span class="st">"Example 1 with simulated data"</span>,</span>
<span>  convergence<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  totalscore<span class="op">=</span><span class="st">"YES"</span>,</span>
<span>  facets<span class="op">=</span><span class="fl">3</span>,</span>
<span>  noncenter<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  arrange<span class="op">=</span><span class="st">"m,N"</span>,</span>
<span>  entered_in_data<span class="op">=</span><span class="st">"2,1,1"</span>,</span>
<span>  models<span class="op">=</span><span class="st">"?$,?$,?$,R4"</span>,</span>
<span>  inter_rater<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  pt_biserial<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  faire_score<span class="op">=</span><span class="st">"Zero"</span>,</span>
<span>  unexpected<span class="op">=</span><span class="fl">2</span>,</span>
<span>  usort<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  positive<span class="op">=</span><span class="fl">1</span>,</span>
<span>  labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1,Persons"</span>,<span class="st">"1-500"</span>,<span class="st">"2,Rater"</span>,<span class="st">"1-3"</span>,<span class="st">"3,Item"</span>,<span class="st">"1-4"</span><span class="op">)</span>,</span>
<span>  fileinput<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  data<span class="op">=</span><span class="va">facets_in</span>,</span>
<span>  path.dosbox<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  path.facets<span class="op">=</span><span class="st">"C:\\Facets"</span>,</span>
<span>  model.name<span class="op">=</span><span class="st">"Example.SD"</span>,</span>
<span>  facetsEXE<span class="op">=</span><span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">################################</span></span>
<span><span class="co"># 2. Example on Windows using existing input-files of FACETS</span></span>
<span><span class="co">################################</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data.immer06</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod1b</span> <span class="op">&lt;-</span> <span class="fu">immer</span><span class="fu">::</span><span class="fu">immer_FACETS</span><span class="op">(</span></span>
<span>  fileinput<span class="op">=</span><span class="va">data.immer06</span>,</span>
<span>  path.facets<span class="op">=</span><span class="st">"C:\\Facets"</span>,</span>
<span>  model.name<span class="op">=</span><span class="st">"Example.SD"</span>,</span>
<span>  facetsEXE<span class="op">=</span><span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

